{"ast":null,"code":"var _jsxFileName = \"/Users/deviambar/Documents/simpleapp/frontend/src/components/Container.js\";\nimport React, { Component } from 'react';\nimport ImgList from './ImgList'; //import axios from 'axios';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Container extends Component {\n  constructor(props) {\n    var _this;\n\n    super(props);\n    _this = this;\n\n    this.performSearch = function () {\n      let query = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'Ice Castle';\n      console.log(`http://0.0.0.0:5000/?text=${query}`); // axios.get(`http://localhost:5000/?text=${query}`)\n      //   .then(response => {\n      //     this.setState({loading:true});\n      //     setTimeout(() => {\n      //       this.setState({\n      //         query: query,\n      //         imgs: response.data.photos.photo,\n      //         loading: false\n      //       })\n      //     }, 150);\n      //   })\n      //   .catch(error => {\n      //     console.log('Error fetching and parsing data', error);\n      //   })\n\n      fetch(`http://0.0.0.0:5000/?text=${query}`, {\n        method: 'GET',\n        headers: {\n          'content-type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS'\n        }\n      }).then(response => response.json()).then(jsondata => {\n        console.log(jsondata);\n\n        _this.setState({\n          loading: true\n        });\n\n        setTimeout(() => {\n          _this.setState({\n            query: query,\n            imgs: response,\n            loading: false\n          });\n        }, 150);\n      }).catch(error => {\n        console.log('Error fetching and parsing data', error);\n      });\n    };\n\n    this.state = {\n      apiKey: \"be62b8fd6260c4f8f8b4f845623d0257\",\n      loading: true,\n      imgs: [],\n      query: this.props.query\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    props.query ? this.performSearch(props.query) : this.performSearch(props.match.params.query);\n  }\n\n  componentWillMount() {\n    this.performSearch();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"photo-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: this.state.query\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), this.state.loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 33\n      }, this) : /*#__PURE__*/_jsxDEV(ImgList, {\n        data: this.state.imgs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Container;","map":{"version":3,"names":["React","Component","ImgList","Container","constructor","props","performSearch","query","console","log","fetch","method","headers","then","response","json","jsondata","setState","loading","setTimeout","imgs","catch","error","state","apiKey","componentWillReceiveProps","match","params","componentWillMount","render"],"sources":["/Users/deviambar/Documents/simpleapp/frontend/src/components/Container.js"],"sourcesContent":["import React, {Component} from 'react';\nimport ImgList from './ImgList';\n//import axios from 'axios';\n\nclass Container extends Component {\n  \n  constructor(props){\n    super(props)\n    this.state = {\n      apiKey: \"be62b8fd6260c4f8f8b4f845623d0257\",\n      loading: true,\n      imgs: [],\n      query: this.props.query\n    }\n  }\n\n  performSearch = (query='Ice Castle') => {\n    console.log(`http://0.0.0.0:5000/?text=${query}`);\n    // axios.get(`http://localhost:5000/?text=${query}`)\n    //   .then(response => {\n    //     this.setState({loading:true});\n    //     setTimeout(() => {\n    //       this.setState({\n    //         query: query,\n    //         imgs: response.data.photos.photo,\n    //         loading: false\n    //       })\n    //     }, 150);\n    //   })\n    //   .catch(error => {\n    //     console.log('Error fetching and parsing data', error);\n    //   })\n    fetch(`http://0.0.0.0:5000/?text=${query}`, {\n      method: 'GET',\n      headers:{'content-type': 'application/json',\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS'}\n    })\n    .then(response => response.json())\n    .then(jsondata => {\n      console.log(jsondata);\n      this.setState({loading:true});\n        setTimeout(() => {\n          this.setState({\n            query: query,\n            imgs: response,\n            loading: false\n          })\n        }, 150);\n    }   \n    )\n    .catch((error) => {\n      console.log('Error fetching and parsing data', error);\n    });\n  }\n\n  componentWillReceiveProps(props){\n    (props.query)\n      ? this.performSearch(props.query)\n      : this.performSearch(props.match.params.query)\n  }\n  \n  componentWillMount(){\n    this.performSearch()\n  }\n\n  render() {\n    return(\n      <div className=\"photo-container\">  \n        <h2>{this.state.query}</h2>\n        {(this.state.loading) ? <p>Loading...</p> : \n        <ImgList data={this.state.imgs} /> }\n      </div>\n    )\n  } \n}\n\n\nexport default Container;"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,WAApB,C,CACA;;;;AAEA,MAAMC,SAAN,SAAwBF,SAAxB,CAAkC;EAEhCG,WAAW,CAACC,KAAD,EAAO;IAAA;;IAChB,MAAMA,KAAN,CADgB;IAAA;;IAAA,KAUlBC,aAVkB,GAUF,YAAwB;MAAA,IAAvBC,KAAuB,uEAAjB,YAAiB;MACtCC,OAAO,CAACC,GAAR,CAAa,6BAA4BF,KAAM,EAA/C,EADsC,CAEtC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MACAG,KAAK,CAAE,6BAA4BH,KAAM,EAApC,EAAuC;QAC1CI,MAAM,EAAE,KADkC;QAE1CC,OAAO,EAAC;UAAC,gBAAgB,kBAAjB;UACR,+BAA+B,GADvB;UAER,gCAAgC;QAFxB;MAFkC,CAAvC,CAAL,CAMCC,IAND,CAMMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EANlB,EAOCF,IAPD,CAOMG,QAAQ,IAAI;QAChBR,OAAO,CAACC,GAAR,CAAYO,QAAZ;;QACA,KAAI,CAACC,QAAL,CAAc;UAACC,OAAO,EAAC;QAAT,CAAd;;QACEC,UAAU,CAAC,MAAM;UACf,KAAI,CAACF,QAAL,CAAc;YACZV,KAAK,EAAEA,KADK;YAEZa,IAAI,EAAEN,QAFM;YAGZI,OAAO,EAAE;UAHG,CAAd;QAKD,CANS,EAMP,GANO,CAAV;MAOH,CAjBD,EAmBCG,KAnBD,CAmBQC,KAAD,IAAW;QAChBd,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+Ca,KAA/C;MACD,CArBD;IAsBD,CAhDiB;;IAEhB,KAAKC,KAAL,GAAa;MACXC,MAAM,EAAE,kCADG;MAEXN,OAAO,EAAE,IAFE;MAGXE,IAAI,EAAE,EAHK;MAIXb,KAAK,EAAE,KAAKF,KAAL,CAAWE;IAJP,CAAb;EAMD;;EA0CDkB,yBAAyB,CAACpB,KAAD,EAAO;IAC7BA,KAAK,CAACE,KAAP,GACI,KAAKD,aAAL,CAAmBD,KAAK,CAACE,KAAzB,CADJ,GAEI,KAAKD,aAAL,CAAmBD,KAAK,CAACqB,KAAN,CAAYC,MAAZ,CAAmBpB,KAAtC,CAFJ;EAGD;;EAEDqB,kBAAkB,GAAE;IAClB,KAAKtB,aAAL;EACD;;EAEDuB,MAAM,GAAG;IACP,oBACE;MAAK,SAAS,EAAC,iBAAf;MAAA,wBACE;QAAA,UAAK,KAAKN,KAAL,CAAWhB;MAAhB;QAAA;QAAA;QAAA;MAAA,QADF,EAEI,KAAKgB,KAAL,CAAWL,OAAZ,gBAAuB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAvB,gBACD,QAAC,OAAD;QAAS,IAAI,EAAE,KAAKK,KAAL,CAAWH;MAA1B;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAOD;;AAtE+B;;AA0ElC,eAAejB,SAAf"},"metadata":{},"sourceType":"module"}