{"ast":null,"code":"var _jsxFileName = \"/Users/deviambar/Documents/simpleapp/frontend/src/components/Container.js\";\nimport React, { Component } from 'react';\nimport apiKey from '../config';\nimport ImgList from './ImgList';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Container extends Component {\n  constructor(props) {\n    var _this;\n\n    super(props);\n    _this = this;\n\n    this.performSearch = function () {\n      let query = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'Ice Castle';\n      axios.get(`https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=${_this.state.apiKey}&text=${query}&per_page=24&page=1&format=json&nojsoncallback=true`).then(response => {\n        _this.setState({\n          loading: true\n        });\n\n        setTimeout(() => {\n          _this.setState({\n            query: query,\n            imgs: response.data.photos.photo,\n            loading: false\n          });\n        }, 150);\n      }).catch(error => {\n        console.log('Error fetching and parsing data', error);\n      });\n    };\n\n    this.state = {\n      apiKey: apiKey,\n      loading: true,\n      imgs: [],\n      query: this.props.query\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    props.query ? this.performSearch(props.query) : this.performSearch(props.match.params.query);\n  }\n\n  componentWillMount() {\n    this.performSearch();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"photo-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: this.state.query\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), this.state.loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 33\n      }, this) : /*#__PURE__*/_jsxDEV(ImgList, {\n        data: this.state.imgs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Container;","map":{"version":3,"names":["React","Component","apiKey","ImgList","axios","Container","constructor","props","performSearch","query","get","state","then","response","setState","loading","setTimeout","imgs","data","photos","photo","catch","error","console","log","componentWillReceiveProps","match","params","componentWillMount","render"],"sources":["/Users/deviambar/Documents/simpleapp/frontend/src/components/Container.js"],"sourcesContent":["import React, {Component} from 'react';\nimport apiKey from '../config';\nimport ImgList from './ImgList';\nimport axios from 'axios';\n\nclass Container extends Component {\n  \n  constructor(props){\n    super(props)\n    this.state = {\n      apiKey: apiKey,\n      loading: true,\n      imgs: [],\n      query: this.props.query\n    }\n  }\n\n  performSearch = (query='Ice Castle') => {\n    axios.get(`https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=${this.state.apiKey}&text=${query}&per_page=24&page=1&format=json&nojsoncallback=true`)\n      .then(response => {\n        this.setState({loading:true});\n        setTimeout(() => {\n          this.setState({\n            query: query,\n            imgs: response.data.photos.photo,\n            loading: false\n          })\n        }, 150);\n      })\n      .catch(error => {\n        console.log('Error fetching and parsing data', error);\n      })\n  }\n\n  componentWillReceiveProps(props){\n    (props.query)\n      ? this.performSearch(props.query)\n      : this.performSearch(props.match.params.query)\n  }\n  \n  componentWillMount(){\n    this.performSearch()\n  }\n\n  render() {\n    return(\n      <div className=\"photo-container\">  \n        <h2>{this.state.query}</h2>\n        {(this.state.loading) ? <p>Loading...</p> : \n        <ImgList data={this.state.imgs} /> }\n      </div>\n    )\n  } \n}\n\n\nexport default Container;"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;EAEhCK,WAAW,CAACC,KAAD,EAAO;IAAA;;IAChB,MAAMA,KAAN,CADgB;IAAA;;IAAA,KAUlBC,aAVkB,GAUF,YAAwB;MAAA,IAAvBC,KAAuB,uEAAjB,YAAiB;MACtCL,KAAK,CAACM,GAAN,CAAW,6EAA4E,KAAI,CAACC,KAAL,CAAWT,MAAO,SAAQO,KAAM,qDAAvH,EACGG,IADH,CACQC,QAAQ,IAAI;QAChB,KAAI,CAACC,QAAL,CAAc;UAACC,OAAO,EAAC;QAAT,CAAd;;QACAC,UAAU,CAAC,MAAM;UACf,KAAI,CAACF,QAAL,CAAc;YACZL,KAAK,EAAEA,KADK;YAEZQ,IAAI,EAAEJ,QAAQ,CAACK,IAAT,CAAcC,MAAd,CAAqBC,KAFf;YAGZL,OAAO,EAAE;UAHG,CAAd;QAKD,CANS,EAMP,GANO,CAAV;MAOD,CAVH,EAWGM,KAXH,CAWSC,KAAK,IAAI;QACdC,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+CF,KAA/C;MACD,CAbH;IAcD,CAzBiB;;IAEhB,KAAKX,KAAL,GAAa;MACXT,MAAM,EAAEA,MADG;MAEXa,OAAO,EAAE,IAFE;MAGXE,IAAI,EAAE,EAHK;MAIXR,KAAK,EAAE,KAAKF,KAAL,CAAWE;IAJP,CAAb;EAMD;;EAmBDgB,yBAAyB,CAAClB,KAAD,EAAO;IAC7BA,KAAK,CAACE,KAAP,GACI,KAAKD,aAAL,CAAmBD,KAAK,CAACE,KAAzB,CADJ,GAEI,KAAKD,aAAL,CAAmBD,KAAK,CAACmB,KAAN,CAAYC,MAAZ,CAAmBlB,KAAtC,CAFJ;EAGD;;EAEDmB,kBAAkB,GAAE;IAClB,KAAKpB,aAAL;EACD;;EAEDqB,MAAM,GAAG;IACP,oBACE;MAAK,SAAS,EAAC,iBAAf;MAAA,wBACE;QAAA,UAAK,KAAKlB,KAAL,CAAWF;MAAhB;QAAA;QAAA;QAAA;MAAA,QADF,EAEI,KAAKE,KAAL,CAAWI,OAAZ,gBAAuB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAvB,gBACD,QAAC,OAAD;QAAS,IAAI,EAAE,KAAKJ,KAAL,CAAWM;MAA1B;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAOD;;AA/C+B;;AAmDlC,eAAeZ,SAAf"},"metadata":{},"sourceType":"module"}