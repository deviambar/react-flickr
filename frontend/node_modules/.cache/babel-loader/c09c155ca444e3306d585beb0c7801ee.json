{"ast":null,"code":"var _jsxFileName = \"/Users/deviambar/Documents/simpleapp/frontend/src/components/Container.js\";\nimport React, { Component } from 'react';\nimport ImgList from './ImgList';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n\n    this.performSearch = function () {\n      let query = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'Ice Castle';\n      console.log(`http://localhost:5000/?text=${query}`); // axios.get(`http://localhost:5000/?text=${query}`)\n      //   .then(response => {\n      //     this.setState({loading:true});\n      //     setTimeout(() => {\n      //       this.setState({\n      //         query: query,\n      //         imgs: response.data.photos.photo,\n      //         loading: false\n      //       })\n      //     }, 150);\n      //   })\n      //   .catch(error => {\n      //     console.log('Error fetching and parsing data', error);\n      //   })\n\n      fetch(`http://localhost:5000/?text=${query}`, {\n        method: 'GET',\n        headers: {\n          'content-type': 'application/json'\n        },\n        mode: 'no-cors'\n      }).then(response => {\n        console.log(response);\n      }).catch(error => {\n        console.log('Error fetching and parsing data', error);\n      });\n    };\n\n    this.state = {\n      apiKey: \"be62b8fd6260c4f8f8b4f845623d0257\",\n      loading: true,\n      imgs: [],\n      query: this.props.query\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    props.query ? this.performSearch(props.query) : this.performSearch(props.match.params.query);\n  }\n\n  componentWillMount() {\n    this.performSearch();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"photo-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: this.state.query\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), this.state.loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 33\n      }, this) : /*#__PURE__*/_jsxDEV(ImgList, {\n        data: this.state.imgs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Container;","map":{"version":3,"names":["React","Component","ImgList","axios","Container","constructor","props","performSearch","query","console","log","fetch","method","headers","mode","then","response","catch","error","state","apiKey","loading","imgs","componentWillReceiveProps","match","params","componentWillMount","render"],"sources":["/Users/deviambar/Documents/simpleapp/frontend/src/components/Container.js"],"sourcesContent":["import React, {Component} from 'react';\nimport ImgList from './ImgList';\nimport axios from 'axios';\n\nclass Container extends Component {\n  \n  constructor(props){\n    super(props)\n    this.state = {\n      apiKey: \"be62b8fd6260c4f8f8b4f845623d0257\",\n      loading: true,\n      imgs: [],\n      query: this.props.query\n    }\n  }\n\n  performSearch = (query='Ice Castle') => {\n    console.log(`http://localhost:5000/?text=${query}`);\n    // axios.get(`http://localhost:5000/?text=${query}`)\n    //   .then(response => {\n    //     this.setState({loading:true});\n    //     setTimeout(() => {\n    //       this.setState({\n    //         query: query,\n    //         imgs: response.data.photos.photo,\n    //         loading: false\n    //       })\n    //     }, 150);\n    //   })\n    //   .catch(error => {\n    //     console.log('Error fetching and parsing data', error);\n    //   })\n    fetch(`http://localhost:5000/?text=${query}`, {\n      method: 'GET',\n      headers:{'content-type': 'application/json'},\n      mode: 'no-cors'\n    })\n    .then((response) => {\n      console.log(response);\n    }   \n    )\n    .catch((error) => {\n      console.log('Error fetching and parsing data', error);\n    });\n  }\n\n  componentWillReceiveProps(props){\n    (props.query)\n      ? this.performSearch(props.query)\n      : this.performSearch(props.match.params.query)\n  }\n  \n  componentWillMount(){\n    this.performSearch()\n  }\n\n  render() {\n    return(\n      <div className=\"photo-container\">  \n        <h2>{this.state.query}</h2>\n        {(this.state.loading) ? <p>Loading...</p> : \n        <ImgList data={this.state.imgs} /> }\n      </div>\n    )\n  } \n}\n\n\nexport default Container;"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,SAAN,SAAwBH,SAAxB,CAAkC;EAEhCI,WAAW,CAACC,KAAD,EAAO;IAChB,MAAMA,KAAN;;IADgB,KAUlBC,aAVkB,GAUF,YAAwB;MAAA,IAAvBC,KAAuB,uEAAjB,YAAiB;MACtCC,OAAO,CAACC,GAAR,CAAa,+BAA8BF,KAAM,EAAjD,EADsC,CAEtC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MACAG,KAAK,CAAE,+BAA8BH,KAAM,EAAtC,EAAyC;QAC5CI,MAAM,EAAE,KADoC;QAE5CC,OAAO,EAAC;UAAC,gBAAgB;QAAjB,CAFoC;QAG5CC,IAAI,EAAE;MAHsC,CAAzC,CAAL,CAKCC,IALD,CAKOC,QAAD,IAAc;QAClBP,OAAO,CAACC,GAAR,CAAYM,QAAZ;MACD,CAPD,EASCC,KATD,CASQC,KAAD,IAAW;QAChBT,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+CQ,KAA/C;MACD,CAXD;IAYD,CAtCiB;;IAEhB,KAAKC,KAAL,GAAa;MACXC,MAAM,EAAE,kCADG;MAEXC,OAAO,EAAE,IAFE;MAGXC,IAAI,EAAE,EAHK;MAIXd,KAAK,EAAE,KAAKF,KAAL,CAAWE;IAJP,CAAb;EAMD;;EAgCDe,yBAAyB,CAACjB,KAAD,EAAO;IAC7BA,KAAK,CAACE,KAAP,GACI,KAAKD,aAAL,CAAmBD,KAAK,CAACE,KAAzB,CADJ,GAEI,KAAKD,aAAL,CAAmBD,KAAK,CAACkB,KAAN,CAAYC,MAAZ,CAAmBjB,KAAtC,CAFJ;EAGD;;EAEDkB,kBAAkB,GAAE;IAClB,KAAKnB,aAAL;EACD;;EAEDoB,MAAM,GAAG;IACP,oBACE;MAAK,SAAS,EAAC,iBAAf;MAAA,wBACE;QAAA,UAAK,KAAKR,KAAL,CAAWX;MAAhB;QAAA;QAAA;QAAA;MAAA,QADF,EAEI,KAAKW,KAAL,CAAWE,OAAZ,gBAAuB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAvB,gBACD,QAAC,OAAD;QAAS,IAAI,EAAE,KAAKF,KAAL,CAAWG;MAA1B;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAOD;;AA5D+B;;AAgElC,eAAelB,SAAf"},"metadata":{},"sourceType":"module"}