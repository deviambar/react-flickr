{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactTestRenderer = require('react-test-renderer');\n\nvar _reactTestRenderer2 = _interopRequireDefault(_reactTestRenderer);\n\nvar _xstate = require('xstate');\n\nvar _graph = require('xstate/lib/graph');\n\nvar _ = require('./');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar testStatechart = function testStatechart(config, Component) {\n  var paths = (0, _graph.getShortestPaths)((0, _xstate.Machine)(config.statechart));\n  Object.keys(paths).forEach(function (key) {\n    var initialData = config.fixtures ? config.fixtures.initialData : null;\n    var StateMachine = (0, _.withStatechart)(config.statechart, {\n      initialData: initialData\n    })(Component);\n\n    var renderer = _reactTestRenderer2.default.create(_react2.default.createElement(StateMachine, null));\n\n    var instance = renderer.getInstance();\n    paths[key].forEach(function (_ref) {\n      var event = _ref.event,\n          state = _ref.state;\n      var fixtures = config.fixtures && config.fixtures[state] ? config.fixtures[state][event] : null;\n      instance.handleTransition(event, fixtures);\n    });\n    var machineState = instance.state.machineState;\n    expect(renderer.toJSON()).toMatchSnapshot(machineState);\n  });\n};\n\nexports.default = testStatechart;","map":{"version":3,"names":["Object","defineProperty","exports","value","_react","require","_react2","_interopRequireDefault","_reactTestRenderer","_reactTestRenderer2","_xstate","_graph","_","obj","__esModule","default","testStatechart","config","Component","paths","getShortestPaths","Machine","statechart","keys","forEach","key","initialData","fixtures","StateMachine","withStatechart","renderer","create","createElement","instance","getInstance","_ref","event","state","handleTransition","machineState","expect","toJSON","toMatchSnapshot"],"sources":["/Users/deviambar/Documents/simpleapp/frontend/node_modules/react-automata/lib/testStatechart.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactTestRenderer = require('react-test-renderer');\n\nvar _reactTestRenderer2 = _interopRequireDefault(_reactTestRenderer);\n\nvar _xstate = require('xstate');\n\nvar _graph = require('xstate/lib/graph');\n\nvar _ = require('./');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar testStatechart = function testStatechart(config, Component) {\n  var paths = (0, _graph.getShortestPaths)((0, _xstate.Machine)(config.statechart));\n\n  Object.keys(paths).forEach(function (key) {\n    var initialData = config.fixtures ? config.fixtures.initialData : null;\n    var StateMachine = (0, _.withStatechart)(config.statechart, { initialData: initialData })(Component);\n    var renderer = _reactTestRenderer2.default.create(_react2.default.createElement(StateMachine, null));\n    var instance = renderer.getInstance();\n\n    paths[key].forEach(function (_ref) {\n      var event = _ref.event,\n          state = _ref.state;\n\n      var fixtures = config.fixtures && config.fixtures[state] ? config.fixtures[state][event] : null;\n\n      instance.handleTransition(event, fixtures);\n    });\n\n    var machineState = instance.state.machineState;\n\n    expect(renderer.toJSON()).toMatchSnapshot(machineState);\n  });\n};\n\nexports.default = testStatechart;"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAC3CC,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,MAAM,GAAGC,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIC,OAAO,GAAGC,sBAAsB,CAACH,MAAD,CAApC;;AAEA,IAAII,kBAAkB,GAAGH,OAAO,CAAC,qBAAD,CAAhC;;AAEA,IAAII,mBAAmB,GAAGF,sBAAsB,CAACC,kBAAD,CAAhD;;AAEA,IAAIE,OAAO,GAAGL,OAAO,CAAC,QAAD,CAArB;;AAEA,IAAIM,MAAM,GAAGN,OAAO,CAAC,kBAAD,CAApB;;AAEA,IAAIO,CAAC,GAAGP,OAAO,CAAC,IAAD,CAAf;;AAEA,SAASE,sBAAT,CAAgCM,GAAhC,EAAqC;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;IAAEE,OAAO,EAAEF;EAAX,CAArC;AAAwD;;AAE/F,IAAIG,cAAc,GAAG,SAASA,cAAT,CAAwBC,MAAxB,EAAgCC,SAAhC,EAA2C;EAC9D,IAAIC,KAAK,GAAG,CAAC,GAAGR,MAAM,CAACS,gBAAX,EAA6B,CAAC,GAAGV,OAAO,CAACW,OAAZ,EAAqBJ,MAAM,CAACK,UAA5B,CAA7B,CAAZ;EAEAtB,MAAM,CAACuB,IAAP,CAAYJ,KAAZ,EAAmBK,OAAnB,CAA2B,UAAUC,GAAV,EAAe;IACxC,IAAIC,WAAW,GAAGT,MAAM,CAACU,QAAP,GAAkBV,MAAM,CAACU,QAAP,CAAgBD,WAAlC,GAAgD,IAAlE;IACA,IAAIE,YAAY,GAAG,CAAC,GAAGhB,CAAC,CAACiB,cAAN,EAAsBZ,MAAM,CAACK,UAA7B,EAAyC;MAAEI,WAAW,EAAEA;IAAf,CAAzC,EAAuER,SAAvE,CAAnB;;IACA,IAAIY,QAAQ,GAAGrB,mBAAmB,CAACM,OAApB,CAA4BgB,MAA5B,CAAmCzB,OAAO,CAACS,OAAR,CAAgBiB,aAAhB,CAA8BJ,YAA9B,EAA4C,IAA5C,CAAnC,CAAf;;IACA,IAAIK,QAAQ,GAAGH,QAAQ,CAACI,WAAT,EAAf;IAEAf,KAAK,CAACM,GAAD,CAAL,CAAWD,OAAX,CAAmB,UAAUW,IAAV,EAAgB;MACjC,IAAIC,KAAK,GAAGD,IAAI,CAACC,KAAjB;MAAA,IACIC,KAAK,GAAGF,IAAI,CAACE,KADjB;MAGA,IAAIV,QAAQ,GAAGV,MAAM,CAACU,QAAP,IAAmBV,MAAM,CAACU,QAAP,CAAgBU,KAAhB,CAAnB,GAA4CpB,MAAM,CAACU,QAAP,CAAgBU,KAAhB,EAAuBD,KAAvB,CAA5C,GAA4E,IAA3F;MAEAH,QAAQ,CAACK,gBAAT,CAA0BF,KAA1B,EAAiCT,QAAjC;IACD,CAPD;IASA,IAAIY,YAAY,GAAGN,QAAQ,CAACI,KAAT,CAAeE,YAAlC;IAEAC,MAAM,CAACV,QAAQ,CAACW,MAAT,EAAD,CAAN,CAA0BC,eAA1B,CAA0CH,YAA1C;EACD,CAlBD;AAmBD,CAtBD;;AAwBArC,OAAO,CAACa,OAAR,GAAkBC,cAAlB"},"metadata":{},"sourceType":"script"}