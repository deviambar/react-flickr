{"ast":null,"code":"var _jsxFileName = \"/Users/deviambar/Documents/simpleapp/frontend/src/components/Container.js\";\nimport React, { Component } from 'react';\nimport ImgList from './ImgList';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Container extends Component {\n  constructor(props) {\n    var _this;\n\n    super(props);\n    _this = this;\n\n    this.performSearch = function () {\n      let query = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'Ice Castle';\n      let config = {\n        url: \"http://localhost:5000\",\n        method: \"get\",\n        headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Access-Control-Allow-Headers': '*',\n          'Access-Control-Allow-Credentials': 'true'\n        }\n      };\n      axios.get(config).then(response => {\n        console.log(response);\n\n        _this.setState({\n          loading: true\n        });\n\n        setTimeout(() => {\n          _this.setState({\n            query: query,\n            imgs: response.rs.photos.photo,\n            loading: false\n          });\n        }, 150);\n      }).catch(error => {\n        console.log('Error fetching and parsing data', error);\n      });\n    };\n\n    this.state = {\n      loading: true,\n      imgs: [],\n      query: \"\"\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    props.query ? this.performSearch(props.query) : this.performSearch(props.match.params.query);\n  }\n\n  componentWillMount() {\n    this.performSearch();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"photo-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: this.state.query\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), this.state.loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 33\n      }, this) : /*#__PURE__*/_jsxDEV(ImgList, {\n        data: this.state.imgs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Container;","map":{"version":3,"names":["React","Component","ImgList","axios","Container","constructor","props","performSearch","query","config","url","method","headers","get","then","response","console","log","setState","loading","setTimeout","imgs","rs","photos","photo","catch","error","state","componentWillReceiveProps","match","params","componentWillMount","render"],"sources":["/Users/deviambar/Documents/simpleapp/frontend/src/components/Container.js"],"sourcesContent":["import React, {Component} from 'react';\nimport ImgList from './ImgList';\nimport axios from 'axios';\n\nclass Container extends Component {\n  \n  constructor(props){\n    super(props)\n    this.state = {\n      loading: true,\n      imgs: [],\n      query: \"\"\n    }\n  }\n\n  performSearch = (query='Ice Castle') => {\n    let config = {\n      url: \"http://localhost:5000\",\n      method: \"get\",\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Headers': '*',\n        'Access-Control-Allow-Credentials': 'true'\n      }\n  };\n    axios.get(config)\n      .then(response => {\n        console.log(response);\n        this.setState({loading:true});\n        setTimeout(() => {\n          this.setState({\n            query: query,\n            imgs: response.rs.photos.photo,\n            loading: false\n          })\n        }, 150);\n      })\n      .catch(error => {\n        console.log('Error fetching and parsing data', error);\n      })\n  }\n\n  componentWillReceiveProps(props){\n    (props.query)\n      ? this.performSearch(props.query)\n      : this.performSearch(props.match.params.query)\n  }\n  \n  componentWillMount(){\n    this.performSearch()\n  }\n\n  render() {\n    return(\n      <div className=\"photo-container\">  \n        <h2>{this.state.query}</h2>\n        {(this.state.loading) ? <p>Loading...</p> : \n        <ImgList data={this.state.imgs} /> }\n      </div>\n    )\n  } \n}\n\n\nexport default Container;"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,SAAN,SAAwBH,SAAxB,CAAkC;EAEhCI,WAAW,CAACC,KAAD,EAAO;IAAA;;IAChB,MAAMA,KAAN,CADgB;IAAA;;IAAA,KASlBC,aATkB,GASF,YAAwB;MAAA,IAAvBC,KAAuB,uEAAjB,YAAiB;MACtC,IAAIC,MAAM,GAAG;QACXC,GAAG,EAAE,uBADM;QAEXC,MAAM,EAAE,KAFG;QAGXC,OAAO,EAAE;UACP,+BAA+B,GADxB;UAEP,gCAAgC,GAFzB;UAGP,oCAAoC;QAH7B;MAHE,CAAb;MASAT,KAAK,CAACU,GAAN,CAAUJ,MAAV,EACGK,IADH,CACQC,QAAQ,IAAI;QAChBC,OAAO,CAACC,GAAR,CAAYF,QAAZ;;QACA,KAAI,CAACG,QAAL,CAAc;UAACC,OAAO,EAAC;QAAT,CAAd;;QACAC,UAAU,CAAC,MAAM;UACf,KAAI,CAACF,QAAL,CAAc;YACZV,KAAK,EAAEA,KADK;YAEZa,IAAI,EAAEN,QAAQ,CAACO,EAAT,CAAYC,MAAZ,CAAmBC,KAFb;YAGZL,OAAO,EAAE;UAHG,CAAd;QAKD,CANS,EAMP,GANO,CAAV;MAOD,CAXH,EAYGM,KAZH,CAYSC,KAAK,IAAI;QACdV,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+CS,KAA/C;MACD,CAdH;IAeD,CAlCiB;;IAEhB,KAAKC,KAAL,GAAa;MACXR,OAAO,EAAE,IADE;MAEXE,IAAI,EAAE,EAFK;MAGXb,KAAK,EAAE;IAHI,CAAb;EAKD;;EA6BDoB,yBAAyB,CAACtB,KAAD,EAAO;IAC7BA,KAAK,CAACE,KAAP,GACI,KAAKD,aAAL,CAAmBD,KAAK,CAACE,KAAzB,CADJ,GAEI,KAAKD,aAAL,CAAmBD,KAAK,CAACuB,KAAN,CAAYC,MAAZ,CAAmBtB,KAAtC,CAFJ;EAGD;;EAEDuB,kBAAkB,GAAE;IAClB,KAAKxB,aAAL;EACD;;EAEDyB,MAAM,GAAG;IACP,oBACE;MAAK,SAAS,EAAC,iBAAf;MAAA,wBACE;QAAA,UAAK,KAAKL,KAAL,CAAWnB;MAAhB;QAAA;QAAA;QAAA;MAAA,QADF,EAEI,KAAKmB,KAAL,CAAWR,OAAZ,gBAAuB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAvB,gBACD,QAAC,OAAD;QAAS,IAAI,EAAE,KAAKQ,KAAL,CAAWN;MAA1B;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAOD;;AAxD+B;;AA4DlC,eAAejB,SAAf"},"metadata":{},"sourceType":"module"}